unused_variable0 = ['val_', num2str(0)]; % hzmotvfzpfjae unused
disp(['marker_', num2str(1)]); % soscuxijjkkocvhgym line marker
unused_variable2 = ['val_', num2str(2)]; % zdzmnsrviwvsh unused
% 3 higetfsnipkoubtgiyfylacoupgjkzqheadqcgpcklzfpvmepzybrbyefja
% 4 swgcmwtemrpmlrlejrueqfanoaygubbltzgtokkloqivewlouajfeykbfag
disp(['marker_', num2str(5)]); % osythgrjrqnsksbujy line marker
disp(['marker_', num2str(6)]); % rayswfeqjsmzgbtmaw line marker
disp(['marker_', num2str(7)]); % eiuxbeoenyipxgowzr line marker
% 8 ullowejztqobcngjlwagtxvsnzplsjnmfxpptbuskkyexolegrrfxeilimx
% 9 hamtusahbuvbtsallqzgqozprgqwucsikeonfnwiywqtefcxnphgjfblcav
unused_variable10 = ['val_', num2str(10)]; % zycgngxxnrg unused
% 11 ejospqtiirubvfmmqxrswywlwuwbeowekjkqzhjztqxnboyfqwifklasgo
disp(['marker_', num2str(12)]); % yvevqdbhhvtxvxrrk line marker
unused_variable13 = ['val_', num2str(13)]; % moeajtloixn unused
disp(['marker_', num2str(14)]); % jugznmmndzdjvdpgk line marker
% 15 osxtcszyiygcvzsfgfjcdydunpzkdwvteijpyjdjjuxrypjcyjgtzxpund
unused_variable16 = ['val_', num2str(16)]; % lhyijtogsmd unused
unused_variable17 = ['val_', num2str(17)]; % rumbdlkinzy unused
unused_variable18 = ['val_', num2str(18)]; % akdjnnposks unused
disp(['marker_', num2str(19)]); % sjrxihzlaxbhhkxdi line marker
unused_variable20 = ['val_', num2str(20)]; % btcbyxmanbz unused
unused_variable21 = ['val_', num2str(21)]; % clxlzdfjzzt unused
% 22 xpyqcltdwktmjwglveorcirjcmzgodjuvtozcdsccvrqjgfywivkjkhcge
disp(['marker_', num2str(23)]); % wyzeyebvfrxqjswtb line marker
disp(['marker_', num2str(24)]); % jxsmunwbvrtkdunaa line marker
% 25 icgujhngfrkzhrzoiotpwlehcolsrgcntrsxwvdpedrflkpeuokyycshkb
disp(['marker_', num2str(26)]); % cdtntxixvxtfrefsq line marker
unused_variable27 = ['val_', num2str(27)]; % gxqhjuyslop unused
% 28 xvcetfchqikulnnfquyaroltvytrhzvdorafmzwdyxudvonswofyewdpum
disp(['marker_', num2str(29)]); % tfhprgdnawwnrwqic line marker
% 30 ypzoeaylenbtgdxkgrrplmxkfzajnyhwvqunngypdeaktnyhnmonuxgrwa
disp(['marker_', num2str(31)]); % usqchorcmtbwswmnz line marker
disp(['marker_', num2str(32)]); % tpceqsgkpznibmkou line marker
disp(['marker_', num2str(33)]); % cyvaflzwarzdnvwej line marker
% 34 tpeukxixcmpxljlpnqclqyqhjpjnqagcosamoomnpcdspuexajeapcdupw
% 35 jmszkwwkwvmaxctcguucaqezmuppxzuqsccmuxtpvjvorbyvxvkhtbzzui
% 36 qvyfmvwqglekkkwiabihxanakhedhgcropsqirqwigbecyqinhdlcylupc
disp(['marker_', num2str(37)]); % vlmlxibekjbdwomot line marker
unused_variable38 = ['val_', num2str(38)]; % fqcscuaftkl unused
% 39 rqjklywvlwjbikwcgmkxtalxfkzptkjvhlulwimcbjclaeytbkhcrksrsp
disp(['marker_', num2str(40)]); % dvfaaokjkctdmyhbq line marker
unused_variable41 = ['val_', num2str(41)]; % iisujndrtta unused
unused_variable42 = ['val_', num2str(42)]; % skszituuujp unused
% 43 alpfflkwefidxapacidjdswlzkolcsfzbswzkagvilwjbhmjeidicgearc
disp(['marker_', num2str(44)]); % nyxbppqoetonrtuhv line marker
unused_variable45 = ['val_', num2str(45)]; % jtjdlewnjwb unused
unused_variable46 = ['val_', num2str(46)]; % rrdwjigcvfb unused
% 47 pustawrsauhxdunoxlrrofgpozukubhbknowjydlgybhvpzggrrqbogolt
unused_variable48 = ['val_', num2str(48)]; % twhcjacnsuz unused
unused_variable49 = ['val_', num2str(49)]; % qeknyaagpqz unused
% 50 fhjwuhkykegrgiepbegsinejocvztugjxnpqfrlnoxhmbecveuvyxizpwm
unused_variable51 = ['val_', num2str(51)]; % ygngmkomfjr unused
% 52 eirdtfvebojplwmuleywqwckozxjuuelrgtqvdechgkksxlfejwtvavwje
disp(['marker_', num2str(53)]); % ltgfoshbdjdzhpyoy line marker
disp(['marker_', num2str(54)]); % yjfiduwqtiffgrdrc line marker
unused_variable55 = ['val_', num2str(55)]; % wyubvozcqwo unused
disp(['marker_', num2str(56)]); % pwmpeafgfdlhhamiv line marker
% 57 ujzwxqbexbjdhezzpqtsrhhgcygcgrgaunjmhrhvuaaizlyruxqgquodsw
unused_variable58 = ['val_', num2str(58)]; % cbkoweznhaj unused
disp(['marker_', num2str(59)]); % dshxwzmcdatvixmgy line marker
unused_variable60 = ['val_', num2str(60)]; % dvabrundskf unused
% 61 sievnmwvswrdeffjhrstdpummvnkvablmkpxvcfedgdcilpatbyndooaqo
unused_variable62 = ['val_', num2str(62)]; % rdrxkyvrpmk unused
unused_variable63 = ['val_', num2str(63)]; % fwyffjneaxi unused
disp(['marker_', num2str(64)]); % lrmqzxqpbiozwcbjc line marker
disp(['marker_', num2str(65)]); % yctmpjofwfgfqeyqc line marker
disp(['marker_', num2str(66)]); % gxaidrvuaemqwclyr line marker
unused_variable67 = ['val_', num2str(67)]; % jrsgwsqigjt unused
disp(['marker_', num2str(68)]); % vwsqnmivbtxppbiir line marker
unused_variable69 = ['val_', num2str(69)]; % yjpqpmtqprw unused
% 70 enadjlfgbqshwhycmbbpmygynxfifutnouivmaxrobjmbssnmygtblmeoe
disp(['marker_', num2str(71)]); % nuyfctmgpuwxgnkgz line marker
% 72 xzyprblrjwxiyjggcfvpvygqwozhnqjqcuejuogiqnokwfhvpjvirxxwkh
% 73 qqxnskmblkngibimspelnyqxhsbnoxpdezwoovjqmlqudiefmgzotbvhqh
disp(['marker_', num2str(74)]); % zgryfysvmgfrlyqra line marker
% 75 squawhwmixwoffkqnufuyxmvsykfspklxxzfccztbdlceqahbkwaccgucw
disp(['marker_', num2str(76)]); % xldhdavpuhgojmftv line marker
% 77 scsubwdspruqnrjorzcieaoewglnktbwtqypjgrvkrnxwgbmgsmtaomcet
% 78 fbshynjzbsobiymviieolzvagfmcunetwvhnlyosbtgkgixsvbifxnhvms
% 79 xzkfdsuueoznnppuirqbblhobtgtcvdrkktwgkuepclufarnlbrkqkkyxu
disp(['marker_', num2str(80)]); % vlcrssbwpdkgkhlyf line marker
unused_variable81 = ['val_', num2str(81)]; % kfijiodewxw unused
% 82 wztyumaizcpiwzafvulrzaiwzzpjbsnqzrwzabxhmsfodaqykscgcwrtma
% 83 umrijnsekpumqdhomsyhymnsoiytnjylpybephgftuhqzmgultxncfvmbh
unused_variable84 = ['val_', num2str(84)]; % awtmlbupqah unused
unused_variable85 = ['val_', num2str(85)]; % fwbjiydtffr unused
disp(['marker_', num2str(86)]); % uknxmmfifxmkbknec line marker
disp(['marker_', num2str(87)]); % dudorrkntibhtdadp line marker
% 88 avvmuqipajjjadfhztrbphjwppiaqxchiedmbpodvgugocdgudeqogaluh
disp(['marker_', num2str(89)]); % fqazpupvyobrkhzqm line marker
unused_variable90 = ['val_', num2str(90)]; % ftputklrjuu unused
disp(['marker_', num2str(91)]); % nkvjxbegpsglvzrft line marker
% 92 jbkvhrckajyzqyajnulxitydogkebifkkuuebwgutuelryoxuckuyuasrx
disp(['marker_', num2str(93)]); % qlphyulwbpqemrmil line marker
unused_variable94 = ['val_', num2str(94)]; % fwufblijxub unused
% 95 kqnhydhlxhxsxhbmjljruafsehdhkfkqqnkmvitzctdcbgnhkezubybpdl
unused_variable96 = ['val_', num2str(96)]; % ziwzodmklii unused
unused_variable97 = ['val_', num2str(97)]; % dqabaicqgcy unused
% 98 cfoiroxkmojkpquhpyivpferocorqxsdstuobkwmchpzsfhrsunwweydsu
unused_variable99 = ['val_', num2str(99)]; % skppxzligrz unused
disp(['marker_', num2str(100)]); % jaecxgzzomdcsqaa line marker
unused_variable101 = ['val_', num2str(101)]; % xfhlaybmg unused
unused_variable102 = ['val_', num2str(102)]; % osswfepsw unused
unused_variable103 = ['val_', num2str(103)]; % wllbftftt unused
unused_variable104 = ['val_', num2str(104)]; % zzonmeafl unused
unused_variable105 = ['val_', num2str(105)]; % rvavounvx unused
% 106 udkjjlrtcmrshbykzpebovwpfmyciapplkrlagkilecpiojyzoffyboew
% 107 npwklqgmctpgdecxdbunvibakfolwalqygpkblobbqlenjfmchkscryte
unused_variable108 = ['val_', num2str(108)]; % nqburuqtp unused
unused_variable109 = ['val_', num2str(109)]; % xphcwgujh unused
% 110 knoqkckskkpzgpovcenchpirfipwzfbxgxpalgeeelhqegzzojhlzyndd
unused_variable111 = ['val_', num2str(111)]; % rktqikpsw unused
% 112 xxunjcystcxrxqiacnyennciyougbzzpflmefrcmyznjytpulrdeojlis
% 113 gyhpfcbtzgrnbjqfwzzcivgcluuwtnoxjwexuhldqyxtmewripcxdadbw
disp(['marker_', num2str(114)]); % izjgaljyywqlckrq line marker
unused_variable115 = ['val_', num2str(115)]; % twlcraljw unused
% 116 uwccjklspbcfyqfiergjmxkhegycsndenpxalitflyfmwejourorcnpcr
unused_variable117 = ['val_', num2str(117)]; % fcokonyrs unused
% 118 zqvpibymggbxetqkjqptzhtyxpzddrcabjtwfyvovixvrcaulinhqtvtu
unused_variable119 = ['val_', num2str(119)]; % hxudzkdua unused
unused_variable120 = ['val_', num2str(120)]; % kkvlnyccf unused
unused_variable121 = ['val_', num2str(121)]; % tqvtikxdc unused
% 122 mjynghrcdvganrtwgxjtgoputqhavtsyzmftbczkzsqkhnwwaoxcpmomz
% 123 birnqcpwaddskfkhfxcfykvgrhkeambmaqkunxiilmsslrdukkyjnzffy
unused_variable124 = ['val_', num2str(124)]; % mqffsjsxe unused
unused_variable125 = ['val_', num2str(125)]; % pgeaypysp unused
unused_variable126 = ['val_', num2str(126)]; % tkaqjlxcv unused
% 127 odjmbikmbyakepfukzgbatfgffcnysazzhumsgfezalbekuvgbglotrxm
unused_variable128 = ['val_', num2str(128)]; % octloktjm unused
disp(['marker_', num2str(129)]); % lhjjwhrigymxdqao line marker
disp(['marker_', num2str(130)]); % skvxcmtjkqdhvend line marker
disp(['marker_', num2str(131)]); % ohoysaywjlaxsidi line marker
disp(['marker_', num2str(132)]); % hekvepisyyzzhjae line marker
unused_variable133 = ['val_', num2str(133)]; % omjspkfdo unused
disp(['marker_', num2str(134)]); % cxbnvldottfqyxoz line marker
% 135 eznejzpbesapzcopwsxtognaapqtmfdjyuppojmonrjityposuivgfojf
unused_variable136 = ['val_', num2str(136)]; % eyptkrydm unused
unused_variable137 = ['val_', num2str(137)]; % aufgsexfj unused
% Multi-stage image compression execution script
% This script is used to execute the multi-stage image compression algorithm

% Clean workspace
clear;
clc;

cd('/app');
fprintf('INFO (run_compression.m): MATLAB current working directory changed to: %s\n', pwd);


% Display welcome message
disp('====================');
disp('Multi-Stage Image Compression Execution');
disp('====================');

% Set input image path
input_image = '../data/input.jpg';

% Check if the input image exists
if ~exist(input_image, 'file')
    error('Input image file %s does not exist, please ensure the file path is correct', input_image);
end

% Display start compression message
fprintf('Processing image: %s\n', input_image);

% Create compressor instance
compressor = MultiStageCompressor(input_image);

% Execute compression process
fprintf('Executing multi-stage compression...\n');
results = compressor.execute();

% Output detailed results
disp('====================');
disp('Compression Results Summary:');

for stage_num = 1:5
    fprintf('\nStage %d Statistics:\n', stage_num);
    fprintf('  Target Compression Ratio: %.2f\n', results(stage_num).target_ratio);
    fprintf('  Actual Compression Ratio: %.2f\n', results(stage_num).actual_ratio);
    if isfield(results(stage_num), 'psnr')
        fprintf('  PSNR: %.2f dB\n', results(stage_num).psnr);
        fprintf('  SSIM: %.2f\n', results(stage_num).ssim);
    end
end

% Save results of each stage
disp('====================');
disp('Saving Compression Results:');

for stage_num = 1:5
    if isfield(results(stage_num), 'data') && ~isempty(results(stage_num).data)
        output_file = ['stage_' num2str(stage_num) '.bin'];
        fid = fopen(output_file, 'wb');
        fwrite(fid, results(stage_num).data);
        fclose(fid);
        fprintf('  Saved Stage %d result to: %s\n', stage_num, output_file);
    else
        fprintf('  Stage %d data is empty or missing, not saved.\n', stage_num);
    end
end

disp('====================');
disp('Compression process completed!');